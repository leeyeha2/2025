import streamlit as st

# 페이지 설정 (전체적인 레이아웃을 넓게 사용)
st.set_page_config(layout="centered") # wide 대신 centered를 사용하여 중앙에 깔끔하게 배치

# --- 앱의 제목 및 설명 ---
st.title("💖 마음 토닥토닥, 고민 상담소 💖")
st.markdown("당신의 고민을 이야기해주세요. 따뜻한 조언으로 함께 마음을 나눕니다.")
st.markdown("---") # 시각적인 구분선

# --- 고민 카테고리 선택 ---
st.header("1. 어떤 고민이신가요?")
category = st.selectbox(
    "아래 목록에서 가장 가까운 고민의 종류를 선택해주세요.",
    ['고민 종류를 선택해주세요', '학업', '진로', '가족', '연애', '직장', '인간관계', '기타']
)

# 선택된 카테고리에 따라 다음 단계 진행
if category != '고민 종류를 선택해주세요':
    st.markdown("---") # 시각적인 구분선
    st.header(f"2. 당신의 고민을 들려주세요. ({category})")
    st.write(f"선택하신 **'{category}'**에 대한 구체적인 고민 내용을 작성해주세요.")

    # --- 고민 내용 입력 ---
    user_worry = st.text_area(
        "여기에 고민을 자세히 작성해주세요. (최소 10자)",
        height=150, # 텍스트 영역의 높이 지정
        help="구체적으로 작성할수록 더 적절한 조언을 받을 수 있어요." # 툴팁 도움말
    )

    # --- 상담받기 버튼 ---
    st.markdown("---") # 시각적인 구분선
    col1, col2, col3 = st.columns([1, 1, 1]) # 버튼을 중앙에 배치하기 위해 컬럼 활용
    with col2: # 가운데 컬럼에 버튼 배치
        if st.button("✨ 상담받기 ✨"):
            if user_worry and len(user_worry) >= 10: # 최소 글자 수 제한
                st.markdown("---") # 시각적인 구분선
                st.header("3. 하룰랄라의 조언 💌")

                # --- 상담 내용 생성 로직 (예시) ---
                counseling_message = ""
                if category == '학업':
                    counseling_message = "학업 고민이 있으시군요. 어떤 일이든 꾸준함이 중요합니다. 작은 목표부터 시작하여 차근차근 나아가면 분명 좋은 결과가 있을 거예요. 너무 자신을 채찍질하기보다는, 잠시 쉬어가며 다시 힘을 내는 것도 중요합니다."
                elif category == '진로':
                    counseling_message = "진로에 대한 고민은 누구나 겪는 과정입니다. 정답은 없지만, 다양한 경험을 통해 무엇을 할 때 가장 행복하고 몰입하는지 탐색해보는 시간을 가져보세요. 당신의 강점과 흥미를 살릴 수 있는 길을 찾으시길 응원합니다."
                elif category == '가족':
                    counseling_message = "가족과의 관계는 때로 가장 어렵지만, 동시에 가장 큰 힘이 될 수 있습니다. 서로의 입장과 마음을 이해하려는 노력이 중요해요. 솔직하고 따뜻한 대화를 통해 서로에게 다가가는 것은 어떨까요?"
                elif category == '연애':
                    counseling_message = "연애 문제는 복잡 미묘할 때가 많죠. 중요한 것은 상대방과의 '소통'입니다. 당신의 감정을 솔직하게 표현하고, 상대방의 이야기에 귀 기울여보세요. 그리고 무엇보다, 자신을 사랑하고 존중하는 것이 가장 중요해요."
                elif category == '직장':
                    counseling_message = "직장 생활에서의 어려움은 많은 분들이 공감하는 부분입니다. 업무 스트레스는 물론, 동료와의 관계, 미래에 대한 불안감 등 복합적인 고민이 있을 수 있어요. 때로는 동료나 선배와 터놓고 이야기하거나, 전문가의 도움을 받는 것도 좋은 방법입니다. 당신의 노력은 분명 빛을 발할 거예요."
                elif category == '인간관계':
                    counseling_message = "인간관계는 삶에서 빼놓을 수 없는 중요한 부분이지만, 때로는 가장 큰 고민거리가 되기도 합니다. 모든 사람과 잘 지낼 수는 없다는 것을 인정하고, 당신의 마음을 편안하게 해주는 관계에 더 집중해보세요. 건강한 관계를 만드는 것은 자신을 이해하는 것에서 시작됩니다."
                else: # 기타
                    counseling_message = "어떤 종류의 고민이든 혼자 힘들어하지 마세요. 당신의 이야기를 들을 준비가 되어 있습니다. 이 어려움 또한 당신을 성장시키는 소중한 경험이 될 거예요. 혼자 감당하기 너무 힘들다면, 전문가의 도움을 받는 것도 좋은 방법입니다."

                st.info(counseling_message) # 깔끔한 파란색 박스 안에 조언 표시
                st.markdown("---")
                st.success("이 조언이 당신에게 작은 위로와 힘이 되기를 바랍니다. 😊")
                st.markdown("_언제든지 다시 찾아와 주세요!_")
            else:
                st.warning("고민 내용을 최소 10자 이상 작성해주셔야 상담을 시작할 수 있어요!")
else:
    st.info("먼저 고민의 종류를 선택해주세요. 위에서 목록을 눌러 선택하실 수 있습니다.")

# --- 앱 하단 푸터 (선택 사항) ---
st.markdown("---")
st.markdown("<sub>Developed with ❤️ by 하룰랄라</sub>")
